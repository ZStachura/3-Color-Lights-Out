<!DOCTYPE html>
<html lang="pl">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
    <title>Lights Out</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
        body {
    margin: 0;
    font-size: 28px;
    font-family: OCR A Std, monospace;
    display: grid;
    background-color: rgb(105, 105, 105);
  }
#start, #shape {
	float: right;
	text-align: center;
	margin: 5px;
}

#container {
  margin: 40px auto;
  text-align: center;
  float: left;
}
#restart, #change1, #change2, #change3, #hint {
  background-color: Gray; 
  cursor: pointer;
  border: none;
  color: black;
  padding: 10px 10px;
  text-align: center;
  text-decoration: none;
  font-size: 16px;
  transition-duration: 0.4s;
  text-align: center;
  margin: 2px;
}
#change1, #change2, #change3{
  padding: 5px 15px;
}
#change1.active, #change2.active, #change3.active{
  background-color: lightsalmon
}
#shape{
  text-align: center;
  border: black;
  font-size: 15px;
}
.lightit {
	cursor: pointer;
	position: relative;
	display: inline-block;
	width: 50px;
	height: 50px;
	margin: 0px;
	padding: 0px;
	border: none;
	border-radius: 20px;
	background-color: Gray;
}

.light-on1 {
  cursor: pointer;
	position: relative;
	display: inline-block;
	width: 50px;
	height: 50px;
	margin: 0px;
	padding: 0px;
	border: none;
	border-radius: 20px;
	background-color: rebeccapurple;
}
.light-on2 {
  cursor: pointer;
	position: relative;
	display: inline-block;
	width: 50px;
	height: 50px;
	margin: 0px;
	padding: 0px;
	border: none;
	border-radius: 20px;
	background-color: greenyellow;
}

.hoverbutton {
	box-shadow: 
		0px 0px 0px 6px lightsalmon,
		0px 2px 10px 1px #BBB;		
}

.modal {
	display: none; 
	position: fixed; 
	z-index: 1; 
	padding-top: 60px; 
	left: 0;
	top: 0;
	width: 100%; 
	height: 100%;
	overflow: auto; 
	background-color: rgb(0,0,0); 
  background-color: rgba(0,0,0,0.4);
  }
  
  .modal-content {
	background-color: lightsalmon;
	margin: auto;
	padding: 20px;
	border: 1px solid #888;
	width: 80%;
	text-align: center;
  }

  #showwin {
	 visibility: hidden;
	  text-align: center;
  	border: black;
  	font-size: 15px;
	  
  }
  
    </style>
</head>
<body>
    <div id="start">
        <h1>Lights Out</h1>
        <h6>Game when you need to remove all the lights</h6>
        <div id="setup">
            
            <!-- in game -->
            <button id="restart">Restart</button>
            <button id="hint">Hint</button>
        </div>
    </div>
    <div id="container">        
        <div id="gameboard">
            <div class="row">
                <div class="lightit" id="11"></div>
                <div class="lightit" id="12"></div>
                <div class="lightit" id="13"></div>
                <div class="lightit" id="14"></div>
                <div class="lightit" id="15"></div> 
            </div>
            <div class="row">
                <div class="lightit" id="21"></div>
                <div class="lightit" id="22"></div>
                <div class="lightit" id="23"></div>
                <div class="lightit" id="24"></div>
                <div class="lightit" id="25"></div> 
            </div>
            <div class="row">
                <div class="lightit" id="31"></div>
                <div class="lightit" id="32"></div>
                <div class="lightit" id="33"></div>
                <div class="lightit" id="34"></div>
                <div class="lightit" id="35"></div> 
            </div>
            <div class="row">
                <div class="lightit" id="41"></div>
                <div class="lightit" id="42"></div>
                <div class="lightit" id="43"></div>
                <div class="lightit" id="44"></div>
                <div class="lightit" id="45"></div> 
            </div>
            <div class="row">
                <div class="lightit" id="51"></div>
                <div class="lightit" id="52"></div>
                <div class="lightit" id="53"></div>
                <div class="lightit" id="54"></div>
                <div class="lightit" id="55"></div> 
            </div>
        </div>
    </div>
    <div id="shape">
        <button id="change1"><img src="Images/shape1.png"></button>
        <button id="change2"><img src="Images/shape2.png"></button>
        <button id="change3"><img src="Images/shape3.png"></button>
    </div>
    <button id="showwin" >Show me how it looks when I win</button>
</body>

<!-- The Modal -->
<div id="myModal" class="modal">

  <div class="modal-content">
    <h1>Bravo! You did it!</h1>
  </div>

</div>
<script>
    window.onload=function () {
    var ctc=1;
    var cellArray = [];
    var helpArray = [];
    var hintArray =[];
    var win=false;
	cellArray = document.getElementsByClassName("lightit");
    newgame = document.getElementById("restart")
    help = document.getElementById("hint")
    ch1=document.getElementById("change1")
    ch2=document.getElementById("change2")
    ch3=document.getElementById("change3")
    fakewin=document.getElementById("showwin")

    newgame.onclick = e => restart()
    help.onclick = e => Help()  
    ch1.onclick =e => change1()
    ch2.onclick =e => change2()
    ch3.onclick =e => change3()
    fakewin.onclick =e =>showwin()
    ch1.classList.toggle('active');

    start()
    function start(){
        for(var i = 0, j = cellArray.length; i < j; i++){
        cellArray[i].removeEventListener("click", lightClick);
		cellArray[i].addEventListener("click", lightClick);
    }
        RandomLights()
    }
    function restart(e){
        NewBoard()
    }

    function NewBoard(){
        helpArray=[];
        for(var i=1; i<6;i++){
            for(var j=1; j<6;j++)
            {
                document.getElementById((i*10)+j).className="lightit"
            }
        }
        RandomLights()
    }

    function RandomLights()
    {
        var moves = randomInteger(2,5)
        console.log("Number of moves:" ,moves)
        for(var n=0; n<moves;n++)
        {
            var x=randomInteger(1,5)
            var y=randomInteger(1,5)
            var i_d=y*10+x
            console.log("id of the move: ",i_d) 
            helpArray.push(i_d)
            GenerateClicks(i_d)        
        }
        console.log("Help Array :",helpArray)


    function GenerateClicks(i){
    //#region generate clicks
    console.log("Click",i)
    //#region First shape
    if(ctc==1){
        
        if(i-10 > 10){
        switch( document.getElementById((i-10).toString()).className) {
            case 'lightit':
                document.getElementById((i-10).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-10).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-10).toString()).className="lightit"
                break;
        }}
        if((i-1)%10 > 0){
        switch( document.getElementById((i-1).toString()).className) {
            case 'lightit':
                document.getElementById((i-1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-1).toString()).className="lightit"
                break;
        }}
        if((i+1)%10<6){
        switch( document.getElementById((i+1).toString()).className) {
            case 'lightit':
                document.getElementById((i+1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+1).toString()).className="lightit"
                break;
        }}
        if((i+11)<56 && (i+11)%10<6){
        switch( document.getElementById((i+11).toString()).className) {
            case 'lightit':
                document.getElementById((i+11).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+11).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+11).toString()).className="lightit"
                break;
        }}
        if((i+9)<56 && (i+9)%10<6 && (i+9)%10>0){
        switch( document.getElementById((i+9).toString()).className) {
            case 'lightit':
                document.getElementById((i+9).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+9).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+9).toString()).className="lightit"
                break;
        }}
    }
    //#endregion
    //#region Second shape
    if(ctc==2){
        if(i-10 > 10){
        switch( document.getElementById((i-10).toString()).className) {
            case 'lightit':
                document.getElementById((i-10).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-10).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-10).toString()).className="lightit"
                break;
        }}
        if((i-1)%10 > 0){
        switch( document.getElementById((i-1).toString()).className) {
            case 'lightit':
                document.getElementById((i-1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-1).toString()).className="lightit"
                break;
        }}
        if((i+10)<56){
        switch( document.getElementById((i+10).toString()).className) {
            case 'lightit':
                document.getElementById((i+10).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+10).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+10).toString()).className="lightit"
                break;
        }}
        if((i+11)<56 && (i+11)%10<6){
        switch( document.getElementById((i+11).toString()).className) {
            case 'lightit':
                document.getElementById((i+11).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+11).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+11).toString()).className="lightit"
                break;
        }}
        if((i-9)>10 && (i-9)%10<6 && (i-9)%10>0){
        switch( document.getElementById((i-9).toString()).className) {
            case 'lightit':
                document.getElementById((i-9).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-9).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-9).toString()).className="lightit"
                break;
        }}
    }
    //#endregion
    //#region Third shape 
    if(ctc==3)
    {
        if((i+1)%10 <6 ){
        switch( document.getElementById((i+1).toString()).className) {
            case 'lightit':
                document.getElementById((i+1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+1).toString()).className="lightit"
                break;
        }}
        if((i-1)%10>0){
        switch( document.getElementById((i-1).toString()).className) {
            case 'lightit':
                document.getElementById((i-1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-1).toString()).className="lightit"
                break;
        }}
        if((i+11)<56 && (i+11)%10<6){
        switch( document.getElementById((i+11).toString()).className) {
            case 'lightit':
                document.getElementById((i+11).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+11).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+11).toString()).className="lightit"
                break;
        }}
        if((i-11)>10 && (i-11)%10>0 && (i-11)%10<7){
        switch( document.getElementById((i-11).toString()).className) {
            case 'lightit':
                document.getElementById((i-11).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-11).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-11).toString()).className="lightit"
                break;
        }}
        if((i+9)<56 && (i+9)%10<6 && (i+9)%10>0){
        switch( document.getElementById((i+9).toString()).className) {
            case 'lightit':
                document.getElementById((i+9).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+9).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+9).toString()).className="lightit"
                break;
        }}
        if((i-9)>10 && (i-9)%10<6 && (i-9)%10>0){
        switch( document.getElementById((i-9).toString()).className) {
            case 'lightit':
                document.getElementById((i-9).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-9).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-9).toString()).className="lightit"
                break;
        }}
    }
    //#endregion
    //#endregion
    }}

    function randomInteger(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

    function Help()
    {   
        hintArray=helpArray
        console.log("Array:" ,helpArray)
        var p=hintArray[0]
        hintArray.shift()
        hintArray.push(p)
        console.log("help: ", p, "Array:", hintArray)
        RemoveHelp()
        document.getElementById(p).classList.add("hoverbutton")
   }
   function RemoveHelp(){
    for(var i=1; i<6;i++){
        for(var j=1; j<6;j++)
        {
            document.getElementById((i*10)+j).classList.remove("hoverbutton")
        }
    }
   }

//#region Change shape buttons
    function change1(e)
    {
        ctc=1;
        ch3.classList.value=''
        ch2.classList.value=''
        ch1.classList.toggle('active');
        NewBoard()
    }
    function change2(e)
    {
        ctc=2;
        ch1.classList.value=''
        ch3.classList.value=''
        ch2.classList.toggle('active');
        NewBoard()
    }
    function change3(e)
    {
        ctc=3;
        ch1.classList.value=''
        ch2.classList.value=''
        ch3.classList.toggle('active');
        NewBoard()
    }
//#endregion
    function lightClick() {
        RemoveHelp()
//#region Middle
        if(this.className == "lightit")
        {
            this.className="light-on1"
        }
        else{
        if(this.className == "light-on1")
        {
            this.className="light-on2"
        }
        else{
        if(this.className == "light-on2")
        {
            this.className="lightit"
        }
    }
    }
//#endregion
//#region First shape
    if(ctc==1){
        
        i=+this.id;
        if(i-10 > 10){
        switch( document.getElementById((i-10).toString()).className) {
            case 'lightit':
                document.getElementById((i-10).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-10).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-10).toString()).className="lightit"
                break;
        }}
        if((i-1)%10 > 0){
        switch( document.getElementById((i-1).toString()).className) {
            case 'lightit':
                document.getElementById((i-1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-1).toString()).className="lightit"
                break;
        }}
        if((i+1)%10<6){
        switch( document.getElementById((i+1).toString()).className) {
            case 'lightit':
                document.getElementById((i+1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+1).toString()).className="lightit"
                break;
        }}
        if((i+11)<56 && (i+11)%10<6){
        switch( document.getElementById((i+11).toString()).className) {
            case 'lightit':
                document.getElementById((i+11).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+11).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+11).toString()).className="lightit"
                break;
        }}
        if((i+9)<56 && (i+9)%10<6 && (i+9)%10>0){
        switch( document.getElementById((i+9).toString()).className) {
            case 'lightit':
                document.getElementById((i+9).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+9).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+9).toString()).className="lightit"
                break;
        }}
    }
    //#endregion
//#region Second shape
    if(ctc==2){
        i=+this.id;
        if(i-10 > 10){
        switch( document.getElementById((i-10).toString()).className) {
            case 'lightit':
                document.getElementById((i-10).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-10).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-10).toString()).className="lightit"
                break;
        }}
        if((i-1)%10 > 0){
        switch( document.getElementById((i-1).toString()).className) {
            case 'lightit':
                document.getElementById((i-1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-1).toString()).className="lightit"
                break;
        }}
        if((i+10)<56){
        switch( document.getElementById((i+10).toString()).className) {
            case 'lightit':
                document.getElementById((i+10).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+10).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+10).toString()).className="lightit"
                break;
        }}
        if((i+11)<56 && (i+11)%10<6){
        switch( document.getElementById((i+11).toString()).className) {
            case 'lightit':
                document.getElementById((i+11).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+11).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+11).toString()).className="lightit"
                break;
        }}
        if((i-9)>10 && (i-9)%10<6 && (i-9)%10>0){
        switch( document.getElementById((i-9).toString()).className) {
            case 'lightit':
                document.getElementById((i-9).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-9).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-9).toString()).className="lightit"
                break;
        }}
    }
    //#endregion
//#region Third shape 
    if(ctc==3)
    {
        i=+this.id;
        if((i+1)%10 <6 ){
        switch( document.getElementById((i+1).toString()).className) {
            case 'lightit':
                document.getElementById((i+1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+1).toString()).className="lightit"
                break;
        }}
        if((i-1)%10>0){
        switch( document.getElementById((i-1).toString()).className) {
            case 'lightit':
                document.getElementById((i-1).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-1).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-1).toString()).className="lightit"
                break;
        }}
        if((i+11)<56 && (i+11)%10<6){
        switch( document.getElementById((i+11).toString()).className) {
            case 'lightit':
                document.getElementById((i+11).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+11).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+11).toString()).className="lightit"
                break;
        }}
        if((i-11)>10 && (i-11)%10>0 && (i-11)%10<7){
        switch( document.getElementById((i-11).toString()).className) {
            case 'lightit':
                document.getElementById((i-11).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-11).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-11).toString()).className="lightit"
                break;
        }}
        if((i+9)<56 && (i+9)%10<6 && (i+9)%10>0){
        switch( document.getElementById((i+9).toString()).className) {
            case 'lightit':
                document.getElementById((i+9).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i+9).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i+9).toString()).className="lightit"
                break;
        }}
        if((i-9)>10 && (i-9)%10<6 && (i-9)%10>0){
        switch( document.getElementById((i-9).toString()).className) {
            case 'lightit':
                document.getElementById((i-9).toString()).className="light-on1"
                break;
            case 'light-on1':
                document.getElementById((i-9).toString()).className="light-on2"
                break;
            case 'light-on2':
                document.getElementById((i-9).toString()).className="lightit"
                break;
        }}
    }
    //#endregion
    checkwin()
} 

function checkwin(){
    win=true;
    for(var i=1; i<6;i++){
        for(var j=1; j<6;j++)
        {
            if(document.getElementById((i*10)+j).className!="lightit")
            {
                win=false
            }
        }
    }
    if(win==true)
    {
       showwin()
    }
}
function showwin(){
    var modal = document.getElementById("myModal");
    modal.style.display = "block";
    window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
    }   
    start()
}
}

</script>
</html>